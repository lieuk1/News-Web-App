<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/home.css') }}">

    <title>{{ title }}</title>
</head>
<body>
    <div class="landing-container">
        <!-- Button for trending headlines -->
        <div class="btn-container">
            <ul>
                <li id="trending-btn" value="trending-btn" onclick="openForm('my-top-form')">
                    View trending articles
                    <!-- Number of span equals number of bubbles that appear on hover -->
                    <span></span><span></span>
                    <span></span><span></span>
                </li>
            </ul>
        </div>
        <div class="trend-row-con container">
            <div class="row">
                {% for article in general_art.items %}
                <div class="col trend-article">
                    <div class="trend-article-content">
                        <!-- <p id="publish-date">{{ article.publish_date }}</p> -->
                        <p id="title">{{ article.title }}</p>
                        <p id="source">{{ article.source }}</p>
                    </div>
                    <a href="{{ article.url }}" target="_blank" rel="noopener noreferrer">
                        <img src="{{ article.url_to_image }}" />
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
        <!-- Form for trending headlines -->
        <div class="popup-top-form" id="my-top-form">
            <form method="POST" action="" class="top-form">
                {{ trending_form.csrf_token }}  
                {{ trending_form.keyword(class_=trending_form.keyword.description.class,
                    placeholder_=trending_form.keyword.description.placeholder) }}
                {{ trending_form.category(class_=trending_form.category.description.class) }}
                <input type="submit" class="inputs search" name="submit" value="Search Trending">
                <input type="button" class="inputs close" value="Close" onclick="closeForm('my-top-form')">
            </form>
        </div>
        <!-- <div class="category-btns-container">
            <div class="categ-bub-cont">
                <span><p>Health</p></span>
                <span><p>Science</p></span>
                <span><p>Entertainment</p></span>
                <span><p>Technology</p></span>
                <span><p>Business</p></span>
                <span><p>Sports</p></span>
            </div>
        </div> -->
    </div>
    <div id="categ-btns-container" class="categ-btns-container">
        <ul>
            <li><button>Health</button></li>
            <li><button>Science</button></li>
            <li><button>Entertainment</button></li>
            <li><button>Technology</button></li>
            <li><button>Business</button></li>
            <li><button>Sports</button></li>
        </ul>
    </div>
    <div class="content-container">
        <div class="articles-container container">
            <div class="row">
                {% for article in health_art.items %}
                <div class="col-md-2 article">
                    <div class="article-content">
                        <div class="article-img">
                            <img src="{{ article.url_to_image }}" />
                            <span></span>
                        </div>
                        <div class="article-info">
                            <!-- <p id="publish-date">{{ article.publish_date }}</p> -->
                            <p class="article-src text-muted">{{ article.source }}</p>
                            <p class="article-title"><strong>{{ article.title }}</strong></p>
                        </div>
                        <a href="{{ article.url }}" target="_blank" rel="noopener noreferrer">
                            <span></span>
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="footer-container">
        <a href="/">Link</a>
        <a href="/">Link</a>
    </div>

<!-- Put all JS in separate file -->
<script>
    $('#myTab a').on('click', function (e) {
        e.preventDefault()
        $(this).tab('show')
    })
    function openForm(form_id) {
        hideButtons()
        document.getElementById(form_id).style.display = "block";
    }
    function closeForm(form_id) {
        document.getElementById(form_id).style.display = "none";
        showButtons()
    }
    function showButtons() {
        document.getElementById("trending-btn").style.display = "inline-block";
    }
    function hideButtons() {
        document.getElementById("trending-btn").style.display = "none";
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>